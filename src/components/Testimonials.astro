---
import { Card, CardContent } from '@/components/ui/card';
import { testimonialsData } from '@/lib/constants';
---

<section id="testimonials" class="py-20 bg-gray-100 dark:bg-gradient-to-br from-[#005C97] to-[#363795]">
  <div class="container mx-auto px-6">
    <h2 class="text-4xl font-bold mb-12 text-center text-gray-900 dark:text-white">What our customers say</h2>
    <div class="carousel overflow-hidden relative w-full mx-auto">
      <div class="carousel-track flex">
        {[...testimonialsData, ...testimonialsData].map((testimonial, index) => (
          <div class="carousel-item flex-shrink-0 px-4" key={index}>
            <Card className="bg-white dark:bg-gray-800 shadow-lg">
              <CardContent className="p-6">
                <div class="flex items-center mb-4">
                  <div class="ml-4">
                    <p class="font-semibold text-gray-900 dark:text-white">{testimonial.author}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">{testimonial.position}</p>
                  </div>
                </div>
                <p class="text-gray-600 dark:text-gray-300">{testimonial.quote}</p>
              </CardContent>
            </Card>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .carousel {
    width: 100%;
    position: relative;
    overflow: hidden;
  }

  .carousel-track {
    display: flex;
    animation: scroll 15s linear infinite;
    width: 100%; 
  }

  .carousel-item {
    flex: 0 0 33.33%;
    box-sizing: border-box;
  }

  @media (max-width: 768px) {
    .carousel-item {
      flex: 0 0 50%; 
    }
  }

  @media (max-width: 480px) {
    .carousel-item {
      flex: 0 0 100%;
    }
  }

  @keyframes scroll {
    from {
      transform: translateX(-50%);
    }
    to {
      transform: translateX(0); 
    }
  }
</style>
